{"version":3,"sources":["../../../../src/skins/uiza/Layout.js"],"names":["_","TIMEOUT_VISIBLE","SkinUiza","props","state","fadeControlAnim","Animated","Value","showing","playbackStatus","uzPlayer","player","playerProps","triggerFirstPlay","entityDetail","liveDetail","_getLiveDetail","self","Object","getOwnPropertyNames","filter","pro","loadingIcon","setState","playPauseIcon","onOffFullscreenIcon","timeDisplay","timeSlider","dragging","isPlaying","show","topTitle","mutedUnmutedIcon","error","hide","setTimeout","timing","toValue","easing","Easing","back","duration","start","timeoutVisible","clearTimeout","view","stream","_toggleControls","bind","styles","bottom","opacity","component","loading","didJustFinish","zIndexTop","zIndexBottom","_toggleReplay","iconReload","message","height","controls","toggleShow","Logger","debug","play","cloneDeep","api","token","entityId","setInterval","API","getLiveView","e","React","Component","StyleSheet","create","width","backgroundColor","position","justifyContent","zIndex","flexDirection","flex","padding","alignSelf"],"mappings":"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","file":"Layout.js","sourcesContent":["import React from 'react';\nimport { Animated, Easing, ScrollView, StyleSheet, TouchableWithoutFeedback, View, ImageBackground } from 'react-native';\nimport Backward10Icon from './Backward10Icon';\nimport DividerDisplay from './DividerDisplay';\nimport Forward10Icon from './Forward10Icon';\nimport LoadingIcon from './LoadingIcon';\nimport OnOffFullscreenIcon from './OnOffFullscreenIcon';\nimport PlayPauseIcon from './PlayPauseIcon';\nimport TimeDisplay from './TimeDisplay';\nimport TimeSlider from './TimeSlider';\nimport Utils, { Logger } from '../../utils/Utils';\nimport Message from './Message.js';\nimport Svg, { Circle, Ellipse, G, LinearGradient, RadialGradient, Line, Path, Polygon, Polyline, Rect, Symbol, Text, Use, Defs, Stop } from 'react-native-svg';\nimport MutedUnmutedIcon from \"./MutedUnmutedIcon\";\nimport TopTitle from \"./TopTitle\";\nimport API from \"../../API\";\nimport * as _ from 'lodash'\n\nconst TIMEOUT_VISIBLE = 5e3;\n\nexport default class SkinUiza extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      fadeControlAnim: new Animated.Value(1),\n      showing: true,\n      playbackStatus: props.playbackStatus\n    };\n    this.uzPlayer = props.player;\n    this.playerProps = props.playerProps\n    this.triggerFirstPlay = false;\n    if (props.entityDetail) {\n      this.entityDetail = props.entityDetail;\n    }\n    this.liveDetail = props.liveDetail;\n    this._getLiveDetail();\n  }\n\n  updateState(state) {\n    let self = this;\n    Object.getOwnPropertyNames(state).filter(function (pro) {\n      self.state[pro] = state[pro];\n    })\n    if (this.loadingIcon) {\n      this.loadingIcon.setState(this.state);\n    }\n    if (this.playPauseIcon) {\n      this.playPauseIcon.setState(this.state);\n    }\n    if (this.onOffFullscreenIcon) {\n      this.onOffFullscreenIcon.setState(this.state);\n    }\n    if (this.timeDisplay) {\n      this.timeDisplay.setState(this.state);\n    }\n    if (this.timeSlider && !this.timeSlider.state.dragging) {\n      this.timeSlider.setState(this.state);\n    }\n    if (!this.triggerFirstPlay && this.state.playbackStatus && this.state.playbackStatus.isPlaying) {\n      this.triggerFirstPlay = true;\n      this.show();\n    }\n    if (this.topTitle) {\n      this.topTitle.setState(this.state);\n    }\n    if (this.mutedUnmutedIcon) {\n      this.mutedUnmutedIcon.setState(this.state);\n    }\n  }\n\n  updateEntityProps(props) {\n    if (props) {\n      this.entityDetail = props;\n    }\n  }\n\n  updateLiveStatusProps(props) {\n    if (props) {\n      this.setState({playbackStatus: {error: props}});\n      if (this.timeDisplay) {\n        this.timeDisplay.setState(this.state);\n      }\n    }\n  }\n\n  toggleShow() {\n    if (this.state.showing && this.state.playbackStatus && !this.state.playbackStatus.isPlaying) {\n      return;\n    }\n    this.state.showing ? this.hide() : this.show();\n  }\n\n  show() {\n    this.setState({showing: true});\n    let self = this;\n    setTimeout(function () {\n      Animated.timing(\n        self.state.fadeControlAnim,\n        {\n          toValue: 1,\n          easing: Easing.back(),\n          duration: 100,\n        }\n      ).start();\n    }, 200);\n    if (this.timeoutVisible) {\n      clearTimeout(this.timeoutVisible);\n    }\n    // let self = this;\n    self.timeoutVisible = setTimeout(function () {\n      self.hide();\n    }, TIMEOUT_VISIBLE);\n  }\n\n  hide() {\n    if ((this.state.playbackStatus && !this.state.playbackStatus.isPlaying) ||\n      (this.timeSlider && this.timeSlider.state.dragging)) {\n      return;\n    }\n    Animated.timing(\n      this.state.fadeControlAnim,\n      {\n        toValue: 0,\n        easing: Easing.back(),\n        duration: 100,\n      }\n    ).start(() => {\n      this.setState({showing: false});\n    });\n  }\n\n  render() {\n    let view;\n    let {fadeControlAnim} = this.state;\n\n    if (this.props.stream === 'live') {\n      view = (\n        <TouchableWithoutFeedback onPress={this._toggleControls.bind(this)}>\n          <View\n            {...this.props}\n            style={styles.view}>\n            {\n              !this.state.showing ?\n                null : !this.entityDetail ?\n                null : <Animated.View style={[styles.bottom, {opacity: fadeControlAnim}]}>\n                  <TopTitle\n                    ref={\n                      component => {\n                        this.topTitle = component;\n                      }\n                    }\n                    player={this.uzPlayer}\n                    topTitle={this.entityDetail}\n                    playerLiveDetail={this.entityDetail}\n                    playerProps={this.props.stream}\n                    liveDetail={this.liveDetail}\n                    //\n                  />\n                </Animated.View>\n            }\n\n            <View style={[styles.loading, this.uzPlayer.didJustFinish ? styles.zIndexTop : styles.zIndexBottom]}>\n              {\n                this.uzPlayer.didJustFinish ?\n                  <TouchableWithoutFeedback onPress={this._toggleReplay.bind(this)}>\n                    <View style={[styles.iconReload]}>\n                      <Svg width=\"48\" height=\"100%\" viewBox=\"-24 -24 96 96\">\n                        <G id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                          <G id=\"icon/replay\">\n                            <G id=\"Page-1\">\n                              <Path\n                                d=\"M42.2487373,31.1237373 L29.1237373,31.1237373 L34.0295479,36.0295479 C31.5504952,38.5084639 28.2545479,39.8737373 24.7487373,39.8737373 C21.2429268,39.8737373 17.9469795,38.5084639 15.4679268,36.0295479 C12.9890108,33.5504952 11.6237373,30.2545479 11.6237373,26.7487373 C11.6237373,23.2429268 12.9890108,19.9469795 15.4679268,17.4679268 C17.9469795,14.9890108 21.2429268,13.6237373 24.7487373,13.6237373 C28.2545479,13.6237373 31.5504952,14.9890108 34.0294795,17.4679952 C34.2364717,17.674919 34.4348506,17.8881319 34.6261202,18.1060616 L37.9183077,15.2253291 C34.7106807,11.5624287 30.0001045,9.24873734 24.7487373,9.24873734 C15.0837471,9.24873734 7.24873734,17.0837471 7.24873734,26.7487373 C7.24873734,36.4137276 15.0837471,44.2487373 24.7487373,44.2487373 C29.5812666,44.2487373 33.9556514,42.2893526 37.1223311,39.1223311 L42.2487373,44.2487373 L42.2487373,31.1237373 Z\"\n                                id=\"Fill-2\" fill=\"#FFFFFF\" fill-rule=\"nonzero\"\n                                transform=\"translate(24.748737, 26.748737) rotate(-135.000000) translate(-24.748737, -26.748737) \"></Path>\n                            </G>\n                          </G>\n                        </G>\n                      </Svg>\n                    </View>\n                  </TouchableWithoutFeedback> :\n                  this.state.playbackStatus.error ?\n                    <Message\n                      ref={\n                        component => {\n                          this.message = component;\n                        }\n                      }\n                      messageState={this.state}/>\n                    :\n                    <LoadingIcon\n                      ref={\n                        component => {\n                          this.loadingIcon = component;\n                        }\n                      }\n                      skinState={this.state}/>\n              }\n            </View>\n            <ScrollView></ScrollView>\n            {\n              this.state.showing ?\n                <Animated.View style={[styles.bottom, {height: 50, opacity: fadeControlAnim}]}>\n                  <View style={[styles.controls, {height: 50}]}>\n                    <PlayPauseIcon\n                      ref={\n                        component => {\n                          this.playPauseIcon = component;\n                        }\n                      }\n                      player={this.props.player}\n                      skinState={this.state}\n                    />\n                    <MutedUnmutedIcon\n                      ref={\n                        component => {\n                          this.mutedUnmutedIcon = component;\n                        }\n                      }\n                      player={this.props.player}\n                      skinState={this.state}\n                    />\n                    <TimeDisplay\n                      ref={\n                        component => {\n                          this.timeDisplay = component;\n                        }\n                      }\n                      stream={this.props.stream}\n                      player={this.props.player}\n                      skinState={this.state}\n                    />\n                    <DividerDisplay/>\n                    <OnOffFullscreenIcon\n                      ref={\n                        component => {\n                          this.onOffFullscreenIcon = component;\n                        }\n                      }\n                      player={this.props.player}\n                      skinState={this.state}\n                    />\n                  </View>\n                </Animated.View> : null\n            }\n          </View>\n        </TouchableWithoutFeedback>\n      )\n    } else {\n      view = (\n        <TouchableWithoutFeedback onPress={this._toggleControls.bind(this)}>\n          <View\n            {...this.props}\n            style={styles.view}>\n            {\n              !this.state.showing ?\n                null : !this.entityDetail ?\n                null : <Animated.View style={[styles.bottom, {opacity: fadeControlAnim}]}>\n                  <TopTitle\n                    ref={\n                      component => {\n                        this.topTitle = component;\n                      }\n                    }\n                    topTitle={this.entityDetail}/>\n                </Animated.View>\n            }\n            <View style={[styles.loading, this.uzPlayer.didJustFinish ? styles.zIndexTop : styles.zIndexBottom]}>\n              {\n                this.uzPlayer.didJustFinish ?\n                  <TouchableWithoutFeedback onPress={this._toggleReplay.bind(this)}>\n                    <View style={[styles.iconReload]}>\n                      <Svg width=\"90\" height=\"100%\" viewBox=\"-24 -24 96 96\">\n                        <G id=\"Page-1\" stroke-width=\"2\" fill=\"none\" fill-rule=\"evenodd\" stroke=\"black\">\n                          <G id=\"icon/replay\">\n                            <G id=\"Page-1\">\n                              <Path\n                                d=\"M42.2487373,31.1237373 L29.1237373,31.1237373 L34.0295479,36.0295479 C31.5504952,38.5084639 28.2545479,39.8737373 24.7487373,39.8737373 C21.2429268,39.8737373 17.9469795,38.5084639 15.4679268,36.0295479 C12.9890108,33.5504952 11.6237373,30.2545479 11.6237373,26.7487373 C11.6237373,23.2429268 12.9890108,19.9469795 15.4679268,17.4679268 C17.9469795,14.9890108 21.2429268,13.6237373 24.7487373,13.6237373 C28.2545479,13.6237373 31.5504952,14.9890108 34.0294795,17.4679952 C34.2364717,17.674919 34.4348506,17.8881319 34.6261202,18.1060616 L37.9183077,15.2253291 C34.7106807,11.5624287 30.0001045,9.24873734 24.7487373,9.24873734 C15.0837471,9.24873734 7.24873734,17.0837471 7.24873734,26.7487373 C7.24873734,36.4137276 15.0837471,44.2487373 24.7487373,44.2487373 C29.5812666,44.2487373 33.9556514,42.2893526 37.1223311,39.1223311 L42.2487373,44.2487373 L42.2487373,31.1237373 Z\"\n                                id=\"Fill-2\" fill=\"#FFFFFF\" fill-rule=\"nonzero\"\n                                transform=\"translate(24.748737, 26.748737) rotate(-135.000000) translate(-24.748737, -26.748737) \"></Path>\n                            </G>\n                          </G>\n                        </G>\n                      </Svg>\n                    </View>\n                  </TouchableWithoutFeedback> :\n                  this.state.playbackStatus.error ?\n                    <Message\n                      ref={\n                        component => {\n                          this.message = component;\n                        }\n                      }\n                      messageState={this.state}/>\n                    :\n                    <LoadingIcon\n                      ref={\n                        component => {\n                          this.loadingIcon = component;\n                        }\n                      }\n                      skinState={this.state}/>\n              }\n            </View>\n            <ScrollView></ScrollView>\n            {\n              this.state.showing ?\n                <Animated.View style={[styles.bottom, {opacity: fadeControlAnim}]}>\n                  <TimeSlider style={styles.timeSlider}\n                              ref={\n                                component => {\n                                  this.timeSlider = component;\n                                }\n                              }\n                              player={this.props.player}\n                              skinState={this.state}\n                  />\n                  <View style={styles.controls}>\n                    <PlayPauseIcon\n                      ref={\n                        component => {\n                          this.playPauseIcon = component;\n                        }\n                      }\n                      player={this.props.player}\n                      skinState={this.state}\n                    />\n\n                    <Backward10Icon\n                      player={this.props.player}\n                    />\n                    <Forward10Icon\n                      player={this.props.player}\n                      staskinStatete={this.state}\n                    />\n                    <MutedUnmutedIcon\n                      ref={\n                        component => {\n                          this.mutedUnmutedIcon = component;\n                        }\n                      }\n                      player={this.props.player}\n                      skinState={this.state}\n                    />\n                    <TimeDisplay\n                      ref={\n                        component => {\n                          this.timeDisplay = component;\n                        }\n                      }\n                      skinState={this.state}\n                    />\n                    <DividerDisplay/>\n                    <OnOffFullscreenIcon\n                      ref={\n                        component => {\n                          this.onOffFullscreenIcon = component;\n                        }\n                      }\n                      player={this.props.player}\n                      skinState={this.state}\n                    />\n                  </View>\n                </Animated.View> : null\n            }\n          </View>\n        </TouchableWithoutFeedback>\n      )\n    }\n\n    return view;\n  }\n\n  _toggleControls() {\n    this.toggleShow();\n  }\n\n  _toggleReplay() {\n    Logger.debug('_toggleReplay');\n    this.uzPlayer.play(0);\n  }\n\n  _getLiveDetail() {\n    try {\n      let self = this;\n      const playerProps = _.cloneDeep(self.playerProps);\n\n      if(playerProps && playerProps.api && playerProps.token && playerProps.entityId){\n        setInterval(\n          async () => {\n            self.liveDetail = await API.getLiveView(playerProps.api, playerProps.token, playerProps.entityId, null);\n            this.topTitle? this.topTitle._getLiveDetail(self.liveDetail):null;\n          }, 5000)\n      }\n    }\n    catch (e) {\n      Logger.debug('_getLiveDetail error ', e.message);\n    }\n  }\n}\n\nconst styles = StyleSheet.create({\n  view: {\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'rgba(255, 255, 255, 0)'\n\n  },\n  loading: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%',\n    justifyContent: 'center'\n  },\n    zIndexTop: {\n        zIndex: 99,\n        backgroundColor: 'rgba(0, 0, 0, .5)'\n    },\n    zIndexBottom: {\n        zIndex: 0,\n    },\n  bottom: {\n    width: '100%',\n    height: 60,\n  },\n  timeSlider: {\n    width: '100%'\n  },\n  controls: {\n    position: 'absolute',\n    bottom: 0,\n    width: '100%',\n    height: 60,\n    flexDirection: 'row',\n    backgroundColor: 'rgba(0, 0, 0, .1)'\n  },\n  iconReload:{\n      // backgroundColor: 'rgba(0, 0, 0, 0.1)',\n      flex: 1,\n      width: '100%',\n      height: '100%',\n      flexDirection: 'row',\n      justifyContent: 'space-around',\n      padding: 10,\n      alignSelf: 'center',\n      position: 'absolute',\n      bottom: 30,\n      zIndex: 100,\n  },\n\n});\n\n\n"]}