Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _react=require('react');var _react2=_interopRequireDefault(_react);var _Base=require('./utils/Base64');var _Base2=_interopRequireDefault(_Base);var _Utils=require('./utils/Utils');var _Utils2=_interopRequireDefault(_Utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var API_VERSION='v3';var CDN_CONTROLLER_PRO='ucc.uiza.io';var CDN_CONTROLLER_STAG='stag-ucc.uiza.io';var CDN_CONTROLLER_DEV='dev-ucc.uizadev.io';exports.default={request:function request(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var callback=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var opt,response,responseJson;return regeneratorRuntime.async(function request$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;opt=_extends({headers:{'Accept':'application/json','Content-Type':'application/json'}},options);_context.next=4;return regeneratorRuntime.awrap(fetch(url,opt));case 4:response=_context.sent;_context.next=7;return regeneratorRuntime.awrap(response.json());case 7:responseJson=_context.sent;if(!(typeof callback==='function')){_context.next=10;break;}return _context.abrupt('return',callback({responseJson:responseJson}));case 10:return _context.abrupt('return',responseJson);case 13:_context.prev=13;_context.t0=_context['catch'](0);console.log('error: ',_context.t0.message);if(!(typeof callback==='function')){_context.next=18;break;}return _context.abrupt('return',callback(null));case 18:return _context.abrupt('return',null);case 19:case'end':return _context.stop();}}},null,this,[[0,13]]);},getPlaybackToken:function getPlaybackToken(api,appId,entityId,callback){var url,options,res,playbackToken;return regeneratorRuntime.async(function getPlaybackToken$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=parseAPIUrl(api)+'/api/public/'+API_VERSION+'/media/entity/playback/token';options={method:'POST',body:JSON.stringify({entity_id:entityId,app_id:appId,content_type:'stream'})};_context2.next=4;return regeneratorRuntime.awrap(this.request(url,options));case 4:res=_context2.sent;playbackToken=null;try{playbackToken=res.data.token;}catch(e){}if(!(typeof callback==='function')){_context2.next=9;break;}return _context2.abrupt('return',callback(playbackToken));case 9:return _context2.abrupt('return',playbackToken);case 10:case'end':return _context2.stop();}}},null,this);},getCDNVod:function getCDNVod(env,playbackToken,appId,entityId,callback){var domainAPI,param,url,options,res;return regeneratorRuntime.async(function getCDNVod$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:domainAPI=CDN_CONTROLLER_DEV;if(env==='prod'){domainAPI=CDN_CONTROLLER_PRO;}else if(env==='stag'){domainAPI=CDN_CONTROLLER_STAG;}param={app_id:appId,entity_id:entityId,type_content:'stream'};url='https://'+domainAPI+'/api/private/v1/cdn/linkplay?'+_Utils2.default.queryParams(param);options={headers:{Authorization:playbackToken}};_context3.next=7;return regeneratorRuntime.awrap(this.request(url,options));case 7:res=_context3.sent;if(!(typeof callback==='function')){_context3.next=10;break;}return _context3.abrupt('return',callback(res));case 10:return _context3.abrupt('return',res);case 11:case'end':return _context3.stop();}}},null,this);},getCDNLive:function getCDNLive(env,playbackToken,appId,entityId,streamName,region,callback){var domainAPI,param,url,options,res;return regeneratorRuntime.async(function getCDNLive$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:domainAPI=CDN_CONTROLLER_DEV;if(env==='prod'){domainAPI=CDN_CONTROLLER_PRO;}else if(env==='stag'){domainAPI=CDN_CONTROLLER_STAG;}param={app_id:appId,entity_id:entityId,stream_name:streamName,region_type:region};url='https://'+domainAPI+'/api/private/v1/cdn/live/linkplay?'+_Utils2.default.queryParams(param);options={headers:{Authorization:playbackToken}};_context4.next=7;return regeneratorRuntime.awrap(this.request(url,options));case 7:res=_context4.sent;if(!(typeof callback==='function')){_context4.next=10;break;}return _context4.abrupt('return',callback(res));case 10:return _context4.abrupt('return',res);case 11:case'end':return _context4.stop();}}},null,this);},getLiveDetail:function getLiveDetail(api,token,entityId,feedId,callback){var param,url,options,res;return regeneratorRuntime.async(function getLiveDetail$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:param={entityId:entityId,feedId:feedId};url=parseAPIUrl(api)+'/api/private/'+API_VERSION+'/live/entity/tracking?'+_Utils2.default.queryParams(param);options={headers:{Authorization:token}};_context5.next=5;return regeneratorRuntime.awrap(this.request(url,options));case 5:res=_context5.sent;console.log('getLiveDetail: ',res);if(!(typeof callback==='function')){_context5.next=9;break;}return _context5.abrupt('return',callback(res));case 9:return _context5.abrupt('return',res);case 10:case'end':return _context5.stop();}}},null,this);},getLiveView:function getLiveView(api,token,entityId,callback){var param,url,options,res;return regeneratorRuntime.async(function getLiveView$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:param={id:entityId};url=parseAPIUrl(api)+'/api/private/'+API_VERSION+'/live/entity/tracking/current-view?'+_Utils2.default.queryParams(param);options={headers:{Authorization:token}};_context6.next=5;return regeneratorRuntime.awrap(this.request(url,options));case 5:res=_context6.sent;console.log('getLiveView: ',res);if(!(typeof callback==='function')){_context6.next=9;break;}return _context6.abrupt('return',callback(res));case 9:return _context6.abrupt('return',res);case 10:case'end':return _context6.stop();}}},null,this);},getEntityDetail:function getEntityDetail(api,token,entityId,callback){var url,options,res,entityDetail;return regeneratorRuntime.async(function getEntityDetail$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:url=parseAPIUrl(api)+'/api/public/'+API_VERSION+'/media/entity?id='+entityId;options={method:'GET',headers:{Authorization:token}};_context7.next=4;return regeneratorRuntime.awrap(this.request(url,options));case 4:res=_context7.sent;entityDetail=null;try{entityDetail=res.data;}catch(e){}if(!(typeof callback==='function')){_context7.next=9;break;}return _context7.abrupt('return',callback(entityDetail));case 9:return _context7.abrupt('return',entityDetail);case 10:case'end':return _context7.stop();}}},null,this);}};var parseAPIUrl=function parseAPIUrl(api){var url=_Base2.default.atob(api);return _Utils2.default.urlToHttps(url);};
Object.defineProperty(exports,"__esModule",{value:true});var _class,_temp;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Event=(_temp=_class=function Event(){_classCallCheck(this,Event);},_class.FULLSCREEN_WILL_ENTER=0,_class.FULLSCREEN_DID_ENTER=1,_class.FULLSCREEN_WILL_EXIT=2,_class.FULLSCREEN_DID_EXIT=3,_temp);exports.default=Event;
Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _jsxFileName='src/UZPlayer.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _expo=require('expo');var _Utils=require('./utils/Utils');var _Utils2=_interopRequireDefault(_Utils);var _API=require('./API');var _API2=_interopRequireDefault(_API);var _Layout=require('./skins/uiza/Layout');var _Layout2=_interopRequireDefault(_Layout);var _PluginManager=require('./plugins/PluginManager');var _PluginManager2=_interopRequireDefault(_PluginManager);var _Event=require('./Event');var _Event2=_interopRequireDefault(_Event);var _State=require('./skins/State');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var UZPlayer=function(_React$Component){_inherits(UZPlayer,_React$Component);function UZPlayer(props){_classCallCheck(this,UZPlayer);if(!!props.debug){_Utils.Logger.enableDebug=true;}var _this=_possibleConstructorReturn(this,(UZPlayer.__proto__||Object.getPrototypeOf(UZPlayer)).call(this,props));_this.initTime=Date.now();var self=_this;var size=_reactNative.Dimensions.get('screen');_this.state={playbackStatus:{},fullsceenState:_State.FullscreenState.EXIT,fullscreenWidth:size.width>size.height?size.width:size.height,fullscreenHeight:size.height<size.width?size.height:size.width};_this.player={VERSION:'1.0.0'};_this.container={};Promise.resolve(_expo.Constants.getWebViewUserAgentAsync()).then(function(res){self.player.userAgent=res;});_this.player.deviceId=_expo.Constants.deviceId;_this.player.sessionId=_expo.Constants.sessionId;_this.player.didJustFinish=false;_this.player.inited=false;_this.player.props=props;_this.player.listener={onError:function onError(evt){_Utils.Logger.debug('onError');if(self.player.props&&self.player.props.listener&&typeof self.player.props.listener.onError==='function'){self.player.props.listener.onError(evt);}},onFullscreenUpdate:function onFullscreenUpdate(evt){_Utils.Logger.debug('onFullscreenUpdate');if(self.player.props&&self.player.props.listener&&typeof self.player.props.listener.onFullscreenChange==='function'){self.player.props.listener.onFullscreenChange(evt);}self.skin.updateState({fullscreen:evt===_State.FullscreenState.ENTER});},onLoad:function onLoad(evt){_Utils.Logger.debug('onLoad');if(self.player.props&&self.player.props.listener&&typeof self.player.props.listener.onLoaded==='function'){self.player.props.listener.onLoaded(evt);}},onLoadStart:function onLoadStart(evt){_Utils.Logger.debug('onLoadStart');if(self.player.props&&self.player.props.listener&&typeof self.player.props.listener.onLoad==='function'){self.player.props.listener.onLoad(evt);}},onPlaybackStatusUpdate:function onPlaybackStatusUpdate(evt){_Utils.Logger.debug('onPlaybackStatusUpdate');self.state.playbackStatus=evt;if(self.state.playbackStatus.didJustFinish){self.player.didJustFinish=true;self.skin.show();}else if(self.state.playbackStatus.isPlaying){self.player.didJustFinish=false;}if(self.player.props&&self.player.props.listener&&typeof self.player.props.listener.onPlaybackChange==='function'){self.player.props.listener.onPlaybackChange(evt);}self.skin.updateState({playbackStatus:self.state.playbackStatus});self.pluginManager.updatePlaybackStatus(self.state.playbackStatus);},onReadyForDisplay:function onReadyForDisplay(evt){_Utils.Logger.debug('onReadyForDisplay');}};_this.pluginManager=new _PluginManager2.default(_this.player.props);return _this;}_createClass(UZPlayer,[{key:'init',value:function init(){var _this2=this;var res;return regeneratorRuntime.async(function init$(_context){while(1){switch(_context.prev=_context.next){case 0:this.entityDetail=null;if(!(this.player.props.stream==='vod')){_context.next=5;break;}_context.next=4;return regeneratorRuntime.awrap(_API2.default.getEntityDetail(this.player.props.api,this.player.props.token,this.player.props.entityId));case 4:this.entityDetail=_context.sent;case 5:_context.next=7;return regeneratorRuntime.awrap(_API2.default.getPlaybackToken(this.player.props.api,this.player.props.appId,this.player.props.entityId));case 7:this.player.playbackToken=_context.sent;this.player.cdnListFull=[];this.player.cdnList=[];res=null;if(!(this.player.props.stream==='vod')){_context.next=17;break;}_context.next=14;return regeneratorRuntime.awrap(_API2.default.getCDNVod(this.player.props.env,this.player.playbackToken,this.player.props.appId,this.player.props.entityId));case 14:res=_context.sent;_context.next=21;break;case 17:if(!(this.player.props.stream==='live')){_context.next=21;break;}_context.next=20;return regeneratorRuntime.awrap(_API2.default.getCDNLive(this.player.props.env,this.player.playbackToken,this.player.props.appId,this.player.props.entityId,this.player.props.streamName,this.player.props.region));case 20:res=_context.sent;case 21:if(!(res&&res.data&&res.data.cdn)){_context.next=26;break;}this.player.cdnListFull=res.data.cdn;this.player.cdnList=[];_context.next=26;return regeneratorRuntime.awrap(Promise.all(res.data.cdn).then(function(cdns){return cdns.map(function(cdn){_this2.player.cdnList.push(cdn.host);});}));case 26:this.pluginManager.init(this.player,{cdnList:this.player.cdnList,entityDetail:this.entityDetail});this.player.inited=true;return _context.abrupt('return',this.player.inited);case 29:case'end':return _context.stop();}}},null,this);}},{key:'toggleFullscreen',value:function toggleFullscreen(){_Utils.Logger.debug('toggleFullscreen: ',this.state.fullsceenState);try{if(this.state.fullsceenState===_State.FullscreenState.ENTER||this.state.fullsceenState===_State.FullscreenState.ENTERING){this.exitFullscreen();this.player.listener.onFullscreenUpdate(_State.FullscreenState.EXIT);}else{this.enterFullscreen();this.player.listener.onFullscreenUpdate(_State.FullscreenState.ENTER);}}catch(e){}}},{key:'enterFullscreen',value:function enterFullscreen(){try{this.state.fullsceenState=_State.FullscreenState.ENTERING;_reactNative.StatusBar.setHidden(true);this.state.fullsceenState=_State.FullscreenState.ENTER;this.setState(function(previousState){return{fullsceenState:_State.FullscreenState.ENTER};});_expo.ScreenOrientation.allow(_expo.ScreenOrientation.Orientation.LANDSCAPE);}catch(e){}}},{key:'exitFullscreen',value:function exitFullscreen(){try{this.state.fullsceenState=_State.FullscreenState.EXITING;_reactNative.StatusBar.setHidden(false);this.state.fullsceenState=_State.FullscreenState.EXIT;this.setState(function(previousState){return{fullsceenState:_State.FullscreenState.EXIT};});_expo.ScreenOrientation.allow(_expo.ScreenOrientation.Orientation.ALL);}catch(e){}}},{key:'togglePlayPause',value:function togglePlayPause(){try{if(this.state.playbackStatus.isPlaying){this.pause();}else{this.play();}}catch(e){}}},{key:'pause',value:function pause(){try{this.player.video.pauseAsync();this.skin.show();}catch(e){}}},{key:'play',value:function play(position){try{if(this.player.didJustFinish){this.player.didJustFinish=false;this.pluginManager.emit('replay');}if(typeof position==='undefined'){this.player.video.playAsync();}else{this.player.video.playFromPositionAsync(position*1000);}this.skin.show();}catch(e){}}},{key:'backward',value:function backward(position){try{if(this.state.playbackStatus){var positionMillis=position*1000;positionMillis=this.state.playbackStatus.positionMillis-positionMillis;if(positionMillis<0){positionMillis=0;}this.player.video.setPositionAsync(positionMillis);}}catch(e){}}},{key:'forward',value:function forward(position){try{if(this.state.playbackStatus){var positionMillis=position*1000;positionMillis=this.state.playbackStatus.positionMillis+positionMillis;if(positionMillis>this.state.playbackStatus.durationMillis-1e4){positionMillis=this.state.playbackStatus.durationMillis-1e4;}this.player.video.setPositionAsync(positionMillis);}}catch(e){}}},{key:'seek',value:function seek(position){var forceSeek=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;try{var positionMillis=position*1000;if(!forceSeek&&positionMillis>this.state.playbackStatus.durationMillis-2000){positionMillis=this.state.playbackStatus.durationMillis-2000;}if(positionMillis<0){positionMillis=0;}this.player.video.setPositionAsync(positionMillis);}catch(e){}}},{key:'render',value:function render(){var _this3=this;var size=_reactNative.Dimensions.get('screen');var height169=Math.floor(size.width*9/16);var view=_react2.default.createElement(_reactNative.View,_extends({},this.props,{style:[styles.container,this.state.fullsceenState==_State.FullscreenState.ENTER?{position:'absolute',zIndex:9999,top:0,left:0,height:this.state.fullscreenHeight,width:this.state.fullscreenWidth}:{height:height169}],ref:function ref(component){_this3.container=component;},__source:{fileName:_jsxFileName,lineNumber:286}}),_react2.default.createElement(_expo.Video,{ref:function ref(component){_this3.player.video=component;},useNativeControls:false,isLooping:false,resizeMode:Expo.Video.RESIZE_MODE_CONTAIN,style:styles.video,onError:this.player.listener.onError,onFullscreenUpdate:this.player.listener.onFullscreenUpdate,onLoad:this.player.listener.onLoad,onLoadStart:this.player.listener.onLoadStart,onPlaybackStatusUpdate:this.player.listener.onPlaybackStatusUpdate,onReadyForDisplay:this.player.listener.onReadyForDisplay,__source:{fileName:_jsxFileName,lineNumber:293}}),_react2.default.createElement(_Layout2.default,{ref:function ref(component){_this3.skin=component;},style:styles.skin,stream:this.player.props.stream,player:this,playbackStatus:this.state.playbackStatus,__source:{fileName:_jsxFileName,lineNumber:310}}));var self=this;Promise.resolve(self.init()).then(function _callee(res){var url;return regeneratorRuntime.async(function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!self.player.video){_context2.next=14;break;}_context2.prev=1;if(self.player.props&&self.player.props.listener&&typeof self.player.props.listener.onReady==='function'){self.player.props.listener.onReady();}url=null;if(self.player.props.stream==='vod'){url=self.definedLinkPlayVod();}else if(self.player.props.stream==='live'){url=self.definedLinkPlayLive();}_context2.next=7;return regeneratorRuntime.awrap(self.player.video.loadAsync({uri:url}));case 7:_context2.next=9;return regeneratorRuntime.awrap(self.player.video.setStatusAsync({positionMillis:0,isLooping:false,shouldPlay:true}));case 9:_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2['catch'](1);_Utils.Logger.debug('error: ',_context2.t0.message);case 14:case'end':return _context2.stop();}}},null,this,[[1,11]]);});this.readyTime=Date.now();this.player.pageLoadTime=this.readyTime-this.initTime;return view;}},{key:'definedLinkPlayVod',value:function definedLinkPlayVod(){try{var prefix='playlist_ts.m3u8';if(_reactNative.Platform.OS==='ios'&&parseInt(_reactNative.Platform.Version,10)>=10){prefix='playlist.m3u8';}else if(_reactNative.Platform.OS==='android'&&parseInt(_reactNative.Platform.Version,10)>=16){prefix='manifest.mpd';}if(this.player.props.playerName==='vod'){prefix='playlist_ts.m3u8';}return'https://'+this.player.cdnList[0]+'/'+this.player.props.appId+'-stream/'+this.player.props.entityId+'/package/'+prefix;}catch(e){_Utils.Logger.debug('error: ',e.message);return null;}}},{key:'definedLinkPlayLive',value:function definedLinkPlayLive(){try{var prefix='playlist_ts.m3u8';if(_reactNative.Platform.OS==='ios'&&parseInt(_reactNative.Platform.Version,10)>=10){prefix='playlist.m3u8';}else if(_reactNative.Platform.OS==='android'&&parseInt(_reactNative.Platform.Version,10)>=16){prefix='manifest.mpd';}if(this.player.props.playerName==='vod'){prefix='playlist_ts.m3u8';}return'https://'+this.player.cdnList[0]+'/'+this.player.props.appId+'-live/'+this.player.props.streamName+'/'+prefix;}catch(e){_Utils.Logger.debug('error: ',e.message);return null;}}},{key:'didJustFinish',get:function get(){return this.player.didJustFinish;}}],[{key:'Event',get:function get(){return _Event2.default;}}]);return UZPlayer;}(_react2.default.Component);exports.default=UZPlayer;var styles=_reactNative.StyleSheet.create({container:{backgroundColor:'black',width:'100%'},video:{position:'absolute',zIndex:0,top:0,left:0,width:'100%',height:'100%'},skin:{position:'absolute',zIndex:99999,top:0,left:0,width:'100%',height:'100%'}});
Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _Utils=require('../utils/Utils');var _Utils2=_interopRequireDefault(_Utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var URL_DEV='https://dev-tracking.uizadev.io/analytic-tracking/v1/tracking/mobile';var URL_STAG='https://stag-tracking.uiza.io/analytic-tracking/v1/tracking/mobile';var URL_PROD='https://tracking.uiza.io/analytic-tracking/v1/tracking/mobile';var Analytics=function(){function Analytics(props){_classCallCheck(this,Analytics);this.props=props;this.state={playRequestTrigged:false,videoStartsTrigged:false,viewTrigged:false,playThrough25Trigged:false,playThrough50Trigged:false,playThrough75Trigged:false,playThrough100Trigged:false,initTime:Date.now(),playbackStatus:{}};}_createClass(Analytics,[{key:'init',value:function init(player,options){if(options){this.uzPlayer=player;this.options=options;this.options.readyTime=Date.now();if(this.props.stream==='vod'){this._track({'event_type':'display'});}}}},{key:'emit',value:function emit(evt,options){if(this.props.stream==='vod'){if(evt==='replay'){this._track({'event_type':'replay'});this.state.playRequestTrigged=false;this.state.videoStartsTrigged=false;this.state.viewTrigged=false;this.state.playThrough25Trigged=false;this.state.playThrough50Trigged=false;this.state.playThrough75Trigged=false;this.state.playThrough100Trigged=false;}}}},{key:'updatePlaybackStatus',value:function updatePlaybackStatus(playbackStatus){this.state.playbackStatus=playbackStatus;if(this.props.stream==='vod'){if(!this.state.playRequestTrigged){this.state.playRequestTrigged=true;this._track({'event_type':'plays_requested'});}if(!this.state.videoStartsTrigged&&playbackStatus.isPlaying){this.state.videoStartsTrigged=true;this._track({'event_type':'video_starts'});}if(!this.state.viewTrigged&&playbackStatus.positionMillis>=5e3){this.state.viewTrigged=true;this._track({'event_type':'view'});}if(!this.state.playThrough100Trigged){if(playbackStatus.positionMillis>=playbackStatus.durationMillis-2e3){this.state.playThrough100Trigged=true;this._track({'event_type':'play_through','play_through':100});}if(!this.state.playThrough75Trigged){if(playbackStatus.positionMillis/playbackStatus.durationMillis>=0.75){this.state.playThrough75Trigged=true;this._track({'event_type':'play_through','play_through':75});}if(!this.state.playThrough50Trigged){if(playbackStatus.positionMillis/playbackStatus.durationMillis>=0.5){this.state.playThrough50Trigged=true;this._track({'event_type':'play_through','play_through':50});}if(!this.state.playThrough25Trigged){if(playbackStatus.positionMillis/playbackStatus.durationMillis>=0.25){this.state.playThrough25Trigged=true;this._track({'event_type':'play_through','play_through':25});}}}}}}}},{key:'_track',value:function _track(options){if(this.options.entityDetail===null){return;}var opts={app_id:this.props.appId,device_id:this.uzPlayer.deviceId,entity_cdn:this.options.cdnList[0],entity_content_type:"video",entity_duration:this.state.playbackStatus.durationMillis?this.state.playbackStatus.durationMillis:0,entity_encoding_variant:"",entity_id:this.props.entityId,entity_language_code:"",entity_name:this.options.entityDetail.name,entity_producer:"",entity_series:"",entity_stream_type:"on-demand",entity_variant_id:"",entity_variant_name:"",event_type:"display",page_load_time:this.uzPlayer.pageLoadTime,page_type:"app",play_through:0,player_id:"null",player_init_time:this.state.initTime,player_name:"",player_startup_time:this.options.readyTime-this.state.initTime,player_version:this.uzPlayer.VERSION,referrer:"",timestamp:new Date().toISOString(),user_agent:this.uzPlayer.userAgent,viewer_user_id:""};for(key in options){opts[key]=options[key];}this._request(opts);}},{key:'_request',value:function _request(data){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var url,opt,response,responseJson;return regeneratorRuntime.async(function _request$(_context){while(1){switch(_context.prev=_context.next){case 0:url=URL_PROD;if(this.props.env==='stag'){url=URL_STAG;}else if(this.props.env==='dev'){url=URL_DEV;}_context.prev=2;opt={method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(data)};_context.next=6;return regeneratorRuntime.awrap(fetch(url,opt));case 6:response=_context.sent;_context.next=9;return regeneratorRuntime.awrap(response.json());case 9:responseJson=_context.sent;if(!(typeof callback==='function')){_context.next=12;break;}return _context.abrupt('return',callback({responseJson:responseJson}));case 12:return _context.abrupt('return',responseJson);case 15:_context.prev=15;_context.t0=_context['catch'](2);if(!(typeof callback==='function')){_context.next=19;break;}return _context.abrupt('return',callback(null));case 19:return _context.abrupt('return',null);case 20:case'end':return _context.stop();}}},null,this,[[2,15]]);}}]);return Analytics;}();exports.default=Analytics;
Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _Analytics=require('./Analytics');var _Analytics2=_interopRequireDefault(_Analytics);var _Utils=require('../utils/Utils');var _Utils2=_interopRequireDefault(_Utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var PluginManager=function(){function PluginManager(props){_classCallCheck(this,PluginManager);this.props=props;this.state={options:null,playbackStatus:{}};this.analytics=new _Analytics2.default(props);}_createClass(PluginManager,[{key:'init',value:function init(player,options){this.uzPlayer=player;this.state.options=options;this.analytics.init(player,options);}},{key:'emit',value:function emit(evt,options){this.analytics.emit(evt,options);}},{key:'updatePlaybackStatus',value:function updatePlaybackStatus(playbackStatus){this.state.playbackStatus=playbackStatus;this.analytics.updatePlaybackStatus(playbackStatus);}}]);return PluginManager;}();exports.default=PluginManager;
Object.defineProperty(exports,"__esModule",{value:true});var _class,_temp,_class2,_temp2;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var ControlState=exports.ControlState=(_temp=_class=function ControlState(){_classCallCheck(this,ControlState);},_class.SHOWN='SHOWN',_class.SHOWING='SHOWING',_class.HIDDEN='HIDDEN',_class.HIDING='HIDDING',_temp);var FullscreenState=exports.FullscreenState=(_temp2=_class2=function FullscreenState(){_classCallCheck(this,FullscreenState);},_class2.ENTER='ENTER',_class2.ENTERING='ENTERING',_class2.EXIT='EXIT',_class2.EXITING='EXITING',_temp2);
Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _jsxFileName='src/skins/uiza/Backward10Icon.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactNativeSvg=require('react-native-svg');var _reactNativeSvg2=_interopRequireDefault(_reactNativeSvg);var _Utils=require('../../utils/Utils');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Backward10Icon=function(_React$Component){_inherits(Backward10Icon,_React$Component);function Backward10Icon(props){_classCallCheck(this,Backward10Icon);var _this=_possibleConstructorReturn(this,(Backward10Icon.__proto__||Object.getPrototypeOf(Backward10Icon)).call(this,props));_this.uzPlayer=props.player;return _this;}_createClass(Backward10Icon,[{key:'render',value:function render(){var view=_react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:this._toggleControls.bind(this),__source:{fileName:_jsxFileName,lineNumber:15}},_react2.default.createElement(_reactNative.View,_extends({},this.props,{style:styles.view,__source:{fileName:_jsxFileName,lineNumber:16}}),_react2.default.createElement(_reactNativeSvg2.default,{width:'48',height:'100%',viewBox:'-24 -24 96 96',__source:{fileName:_jsxFileName,lineNumber:19}},_react2.default.createElement(_reactNativeSvg.G,{id:'Page-1',stroke:'none','stroke-width':'1',fill:'none','fill-rule':'evenodd',__source:{fileName:_jsxFileName,lineNumber:20}},_react2.default.createElement(_reactNativeSvg.G,{id:'icon/back-10',__source:{fileName:_jsxFileName,lineNumber:21}},_react2.default.createElement(_reactNativeSvg.G,{id:'Group',transform:'translate(3.000000, 6.000000)',__source:{fileName:_jsxFileName,lineNumber:22}},_react2.default.createElement(_reactNativeSvg.Path,{d:'M7.4296875,34.296875 L4.04296875,34.296875 L4.04296875,21.2421875 L0,22.4960938 L0,19.7421875 L7.06640625,17.2109375 L7.4296875,17.2109375 L7.4296875,34.296875 Z M22.4570312,27.2421875 C22.4570312,29.6015743 21.9687549,31.4062438 20.9921875,32.65625 C20.0156201,33.9062562 18.5859469,34.53125 16.703125,34.53125 C14.8437407,34.53125 13.4218799,33.9179749 12.4375,32.6914062 C11.4531201,31.4648376 10.9492189,29.7070427 10.9257812,27.4179688 L10.9257812,24.2773438 C10.9257812,21.8945193 11.4199169,20.0859437 12.4082031,18.8515625 C13.3964893,17.6171813 14.8203032,17 16.6796875,17 C18.5390718,17 19.9609326,17.611322 20.9453125,18.8339844 C21.9296924,20.0566467 22.4335936,21.8124886 22.4570312,24.1015625 L22.4570312,27.2421875 Z M19.0703125,23.796875 C19.0703125,22.3828054 18.8769551,21.3535188 18.4902344,20.7089844 C18.1035137,20.0644499 17.5000041,19.7421875 16.6796875,19.7421875 C15.8828085,19.7421875 15.2949238,20.0488251 14.9160156,20.6621094 C14.5371075,21.2753937 14.3359376,22.2343685 14.3125,23.5390625 L14.3125,27.6875 C14.3125,29.078132 14.5019512,30.1113247 14.8808594,30.7871094 C15.2597675,31.462894 15.8671833,31.8007812 16.703125,31.8007812 C17.5312541,31.8007812 18.1289044,31.4765657 18.4960938,30.828125 C18.8632831,30.1796843 19.0546874,29.1875067 19.0703125,27.8515625 L19.0703125,23.796875 Z',id:'10','fill-opacity':'0.85',fill:'#FFFFFF',__source:{fileName:_jsxFileName,lineNumber:23}}),_react2.default.createElement(_reactNativeSvg.Path,{d:'M8.54512173,7.5 L8.54512173,11.9557908 L0,6.02846572 L8.54512173,0 L8.54512173,4.5 L41.6538418,4.5 L41.6538418,33.9917616 L27.6875256,33.9917616 L27.6875256,30.9917616 L38.6538418,30.9917616 L38.6538418,7.5 L8.54512173,7.5 Z',id:'Combined-Shape','fill-rule':'nonzero',fill:'#FFFFFF',__source:{fileName:_jsxFileName,lineNumber:24}})))))));return view;}},{key:'_toggleControls',value:function _toggleControls(){this.uzPlayer.backward(10);}}]);return Backward10Icon;}(_react2.default.Component);exports.default=Backward10Icon;var styles=_reactNative.StyleSheet.create({view:{alignSelf:'flex-end',width:48,height:48}});
Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _jsxFileName='src/skins/uiza/DividerDisplay.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var DividerDisplay=function(_React$Component){_inherits(DividerDisplay,_React$Component);function DividerDisplay(){_classCallCheck(this,DividerDisplay);return _possibleConstructorReturn(this,(DividerDisplay.__proto__||Object.getPrototypeOf(DividerDisplay)).apply(this,arguments));}_createClass(DividerDisplay,[{key:'render',value:function render(){return _react2.default.createElement(_reactNative.View,_extends({},this.props,{style:styles.view,__source:{fileName:_jsxFileName,lineNumber:6}}));}}]);return DividerDisplay;}(_react2.default.Component);exports.default=DividerDisplay;var styles=_reactNative.StyleSheet.create({view:{alignSelf:'flex-end',flex:1,flexDirection:'row'}});
Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _jsxFileName='src/skins/uiza/Forward10Icon.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactNativeSvg=require('react-native-svg');var _reactNativeSvg2=_interopRequireDefault(_reactNativeSvg);var _Utils=require('../../utils/Utils');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Forward10Icon=function(_React$Component){_inherits(Forward10Icon,_React$Component);function Forward10Icon(props){_classCallCheck(this,Forward10Icon);var _this=_possibleConstructorReturn(this,(Forward10Icon.__proto__||Object.getPrototypeOf(Forward10Icon)).call(this,props));_this.uzPlayer=props.player;return _this;}_createClass(Forward10Icon,[{key:'render',value:function render(){var view=_react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:this._toggleControls.bind(this),__source:{fileName:_jsxFileName,lineNumber:15}},_react2.default.createElement(_reactNative.View,_extends({},this.props,{style:styles.view,__source:{fileName:_jsxFileName,lineNumber:16}}),_react2.default.createElement(_reactNativeSvg2.default,{width:'48',height:'100%',viewBox:'-24 -24 96 96',__source:{fileName:_jsxFileName,lineNumber:19}},_react2.default.createElement(_reactNativeSvg.G,{id:'Page-1',stroke:'none','stroke-width':'1','fill-rule':'evenodd',__source:{fileName:_jsxFileName,lineNumber:20}},_react2.default.createElement(_reactNativeSvg.G,{id:'icon/next-10',__source:{fileName:_jsxFileName,lineNumber:21}},_react2.default.createElement(_reactNativeSvg.G,{id:'Group',transform:'translate(3.000000, 6.000000)',__source:{fileName:_jsxFileName,lineNumber:22}},_react2.default.createElement(_reactNativeSvg.Path,{d:'M26.4296875,34.296875 L23.0429688,34.296875 L23.0429688,21.2421875 L19,22.4960938 L19,19.7421875 L26.0664062,17.2109375 L26.4296875,17.2109375 L26.4296875,34.296875 Z M41.4570312,27.2421875 C41.4570312,29.6015743 40.9687549,31.4062438 39.9921875,32.65625 C39.0156201,33.9062562 37.5859469,34.53125 35.703125,34.53125 C33.8437407,34.53125 32.4218799,33.9179749 31.4375,32.6914062 C30.4531201,31.4648376 29.9492189,29.7070427 29.9257812,27.4179688 L29.9257812,24.2773438 C29.9257812,21.8945193 30.4199169,20.0859437 31.4082031,18.8515625 C32.3964893,17.6171813 33.8203032,17 35.6796875,17 C37.5390718,17 38.9609326,17.611322 39.9453125,18.8339844 C40.9296924,20.0566467 41.4335936,21.8124886 41.4570312,24.1015625 L41.4570312,27.2421875 Z M38.0703125,23.796875 C38.0703125,22.3828054 37.8769551,21.3535188 37.4902344,20.7089844 C37.1035137,20.0644499 36.5000041,19.7421875 35.6796875,19.7421875 C34.8828085,19.7421875 34.2949238,20.0488251 33.9160156,20.6621094 C33.5371075,21.2753937 33.3359376,22.2343685 33.3125,23.5390625 L33.3125,27.6875 C33.3125,29.078132 33.5019512,30.1113247 33.8808594,30.7871094 C34.2597675,31.462894 34.8671833,31.8007812 35.703125,31.8007812 C36.5312541,31.8007812 37.1289044,31.4765657 37.4960938,30.828125 C37.8632831,30.1796843 38.0546874,29.1875067 38.0703125,27.8515625 L38.0703125,23.796875 Z',id:'10','fill-opacity':'0.85',fill:'#FFFFFF',__source:{fileName:_jsxFileName,lineNumber:23}}),_react2.default.createElement(_reactNativeSvg.Path,{d:'M8.54512173,7.5 L8.54512173,11.9557908 L0,6.02846572 L8.54512173,0 L8.54512173,4.5 L41.6538418,4.5 L41.6538418,33.9917616 L27.6875256,33.9917616 L27.6875256,30.9917616 L38.6538418,30.9917616 L38.6538418,7.5 L8.54512173,7.5 Z',id:'Combined-Shape','fill-rule':'nonzero',transform:'translate(20.826921, 16.995881) scale(-1, 1) translate(-20.826921, -16.995881) ',fill:'#FFFFFF',__source:{fileName:_jsxFileName,lineNumber:24}})))))));return view;}},{key:'_toggleControls',value:function _toggleControls(){this.uzPlayer.forward(10);}}]);return Forward10Icon;}(_react2.default.Component);exports.default=Forward10Icon;var styles=_reactNative.StyleSheet.create({view:{alignSelf:'flex-end',width:48,height:48}});
Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _jsxFileName='src/skins/uiza/Layout.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _Backward10Icon=require('./Backward10Icon');var _Backward10Icon2=_interopRequireDefault(_Backward10Icon);var _DividerDisplay=require('./DividerDisplay');var _DividerDisplay2=_interopRequireDefault(_DividerDisplay);var _Forward10Icon=require('./Forward10Icon');var _Forward10Icon2=_interopRequireDefault(_Forward10Icon);var _LoadingIcon=require('./LoadingIcon');var _LoadingIcon2=_interopRequireDefault(_LoadingIcon);var _OnOffFullscreenIcon=require('./OnOffFullscreenIcon');var _OnOffFullscreenIcon2=_interopRequireDefault(_OnOffFullscreenIcon);var _PlayPauseIcon=require('./PlayPauseIcon');var _PlayPauseIcon2=_interopRequireDefault(_PlayPauseIcon);var _TimeDisplay=require('./TimeDisplay');var _TimeDisplay2=_interopRequireDefault(_TimeDisplay);var _TimeSlider=require('./TimeSlider');var _TimeSlider2=_interopRequireDefault(_TimeSlider);var _Utils=require('../../utils/Utils');var _Utils2=_interopRequireDefault(_Utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TIMEOUT_VISIBLE=5e3;var SkinUiza=function(_React$Component){_inherits(SkinUiza,_React$Component);function SkinUiza(props){_classCallCheck(this,SkinUiza);var _this=_possibleConstructorReturn(this,(SkinUiza.__proto__||Object.getPrototypeOf(SkinUiza)).call(this,props));_this.state={fadeControlAnim:new _reactNative.Animated.Value(1),showing:true,playbackStatus:props.playbackStatus};_this.uzPlayer=props.player;_this.triggerFirstPlay=false;return _this;}_createClass(SkinUiza,[{key:'updateState',value:function updateState(state){var self=this;Object.getOwnPropertyNames(state).filter(function(pro){self.state[pro]=state[pro];});if(this.loadingIcon){this.loadingIcon.setState(this.state);}if(this.playPauseIcon){this.playPauseIcon.setState(this.state);}if(this.onOffFullscreenIcon){this.onOffFullscreenIcon.setState(this.state);}if(this.timeDisplay){this.timeDisplay.setState(this.state);}if(this.timeSlider&&!this.timeSlider.state.dragging){this.timeSlider.setState(this.state);}if(!this.triggerFirstPlay&&this.state.playbackStatus&&this.state.playbackStatus.isPlaying){this.triggerFirstPlay=true;this.show();}}},{key:'toggleShow',value:function toggleShow(){if(this.state.showing&&this.state.playbackStatus&&!this.state.playbackStatus.isPlaying){return;}this.state.showing?this.hide():this.show();}},{key:'show',value:function show(){this.setState({showing:true});var self=this;setTimeout(function(){_reactNative.Animated.timing(self.state.fadeControlAnim,{toValue:1,easing:_reactNative.Easing.back(),duration:750}).start();},200);if(this.timeoutVisible){clearTimeout(this.timeoutVisible);}self.timeoutVisible=setTimeout(function(){self.hide();},TIMEOUT_VISIBLE);}},{key:'hide',value:function hide(){var _this2=this;if(this.state.playbackStatus&&!this.state.playbackStatus.isPlaying||this.timeSlider&&this.timeSlider.state.dragging){return;}_reactNative.Animated.timing(this.state.fadeControlAnim,{toValue:0,easing:_reactNative.Easing.back(),duration:750}).start(function(){_this2.setState({showing:false});});}},{key:'render',value:function render(){var _this3=this;var view=void 0;var fadeControlAnim=this.state.fadeControlAnim;if(this.props.stream==='live'){view=_react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:this._toggleControls.bind(this),__source:{fileName:_jsxFileName,lineNumber:106}},_react2.default.createElement(_reactNative.View,_extends({},this.props,{style:styles.view,__source:{fileName:_jsxFileName,lineNumber:107}}),_react2.default.createElement(_reactNative.View,{style:styles.loading,__source:{fileName:_jsxFileName,lineNumber:110}},_react2.default.createElement(_LoadingIcon2.default,{ref:function ref(component){_this3.loadingIcon=component;},skinState:this.state,__source:{fileName:_jsxFileName,lineNumber:111}})),_react2.default.createElement(_reactNative.ScrollView,{__source:{fileName:_jsxFileName,lineNumber:119}}),this.state.showing?_react2.default.createElement(_reactNative.Animated.View,{style:[styles.bottom,{height:50,opacity:fadeControlAnim}],__source:{fileName:_jsxFileName,lineNumber:122}},_react2.default.createElement(_reactNative.View,{style:[styles.controls,{height:50}],__source:{fileName:_jsxFileName,lineNumber:123}},_react2.default.createElement(_PlayPauseIcon2.default,{ref:function ref(component){_this3.playPauseIcon=component;},player:this.props.player,skinState:this.state,__source:{fileName:_jsxFileName,lineNumber:124}}),_react2.default.createElement(_TimeDisplay2.default,{ref:function ref(component){_this3.timeDisplay=component;},stream:this.props.stream,player:this.props.player,skinState:this.state,__source:{fileName:_jsxFileName,lineNumber:133}}),_react2.default.createElement(_DividerDisplay2.default,{__source:{fileName:_jsxFileName,lineNumber:143}}),_react2.default.createElement(_OnOffFullscreenIcon2.default,{ref:function ref(component){_this3.onOffFullscreenIcon=component;},player:this.props.player,skinState:this.state,__source:{fileName:_jsxFileName,lineNumber:144}}))):null));}else{view=_react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:this._toggleControls.bind(this),__source:{fileName:_jsxFileName,lineNumber:161}},_react2.default.createElement(_reactNative.View,_extends({},this.props,{style:styles.view,__source:{fileName:_jsxFileName,lineNumber:162}}),_react2.default.createElement(_reactNative.View,{style:styles.loading,__source:{fileName:_jsxFileName,lineNumber:165}},_react2.default.createElement(_LoadingIcon2.default,{ref:function ref(component){_this3.loadingIcon=component;},skinState:this.state,__source:{fileName:_jsxFileName,lineNumber:166}})),_react2.default.createElement(_reactNative.ScrollView,{__source:{fileName:_jsxFileName,lineNumber:174}}),this.state.showing?_react2.default.createElement(_reactNative.Animated.View,{style:[styles.bottom,{opacity:fadeControlAnim}],__source:{fileName:_jsxFileName,lineNumber:177}},_react2.default.createElement(_TimeSlider2.default,{style:styles.timeSlider,ref:function ref(component){_this3.timeSlider=component;},player:this.props.player,skinState:this.state,__source:{fileName:_jsxFileName,lineNumber:178}}),_react2.default.createElement(_reactNative.View,{style:styles.controls,__source:{fileName:_jsxFileName,lineNumber:187}},_react2.default.createElement(_PlayPauseIcon2.default,{ref:function ref(component){_this3.playPauseIcon=component;},player:this.props.player,skinState:this.state,__source:{fileName:_jsxFileName,lineNumber:188}}),_react2.default.createElement(_Backward10Icon2.default,{player:this.props.player,__source:{fileName:_jsxFileName,lineNumber:197}}),_react2.default.createElement(_Forward10Icon2.default,{player:this.props.player,staskinStatete:this.state,__source:{fileName:_jsxFileName,lineNumber:200}}),_react2.default.createElement(_TimeDisplay2.default,{ref:function ref(component){_this3.timeDisplay=component;},skinState:this.state,__source:{fileName:_jsxFileName,lineNumber:204}}),_react2.default.createElement(_DividerDisplay2.default,{__source:{fileName:_jsxFileName,lineNumber:212}}),_react2.default.createElement(_OnOffFullscreenIcon2.default,{ref:function ref(component){_this3.onOffFullscreenIcon=component;},player:this.props.player,skinState:this.state,__source:{fileName:_jsxFileName,lineNumber:213}}))):null));}return view;}},{key:'_toggleControls',value:function _toggleControls(){this.toggleShow();}}]);return SkinUiza;}(_react2.default.Component);exports.default=SkinUiza;var styles=_reactNative.StyleSheet.create({view:{width:'100%',height:'100%',backgroundColor:'rgba(255, 255, 255, 0)'},loading:{zIndex:0,position:'absolute',height:'100%',width:'100%',justifyContent:'center'},bottom:{width:'100%',height:60},timeSlider:{width:'100%'},controls:{position:'absolute',bottom:0,width:'100%',height:60,flexDirection:'row',backgroundColor:'rgba(0, 0, 0, .1)'}});
Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _jsxFileName='src/skins/uiza/LoadingIcon.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _Utils=require('../../utils/Utils');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var LoadingIcon=function(_PureComponent){_inherits(LoadingIcon,_PureComponent);function LoadingIcon(props){_classCallCheck(this,LoadingIcon);var _this=_possibleConstructorReturn(this,(LoadingIcon.__proto__||Object.getPrototypeOf(LoadingIcon)).call(this,props));_this.state=props.skinState;return _this;}_createClass(LoadingIcon,[{key:'render',value:function render(){if(!this.state.playbackStatus||typeof this.state.playbackStatus.playableDurationMillis==='undefined'||this.state.playbackStatus.playableDurationMillis-this.state.playbackStatus.positionMillis<1000){return _react2.default.createElement(_reactNative.View,{style:[styles.container,styles.horizontal],__source:{fileName:_jsxFileName,lineNumber:17}},_react2.default.createElement(_reactNative.ActivityIndicator,{size:'large',color:'#FFFFFF',__source:{fileName:_jsxFileName,lineNumber:18}}));}return null;}}]);return LoadingIcon;}(_react.PureComponent);exports.default=LoadingIcon;var styles=_reactNative.StyleSheet.create({container:{backgroundColor:'rgba(0, 0, 0, 0.1)',flex:1,justifyContent:'center',width:'100%',height:'100%'},horizontal:{flexDirection:'row',justifyContent:'space-around',padding:10}});
Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _jsxFileName='src/skins/uiza/OnOffFullscreenIcon.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactNativeSvg=require('react-native-svg');var _reactNativeSvg2=_interopRequireDefault(_reactNativeSvg);var _Utils=require('../../utils/Utils');var _Utils2=_interopRequireDefault(_Utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var OnOffFullscreenIcon=function(_React$Component){_inherits(OnOffFullscreenIcon,_React$Component);function OnOffFullscreenIcon(props){_classCallCheck(this,OnOffFullscreenIcon);var _this=_possibleConstructorReturn(this,(OnOffFullscreenIcon.__proto__||Object.getPrototypeOf(OnOffFullscreenIcon)).call(this,props));_this.state=props.skinState;_this.uzPlayer=props.player;return _this;}_createClass(OnOffFullscreenIcon,[{key:'render',value:function render(){return null;var view=_react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:this._toggleControls.bind(this),__source:{fileName:_jsxFileName,lineNumber:17}},_react2.default.createElement(_reactNative.View,_extends({},this.props,{style:styles.view,__source:{fileName:_jsxFileName,lineNumber:18}}),this.state.fullscreen?_react2.default.createElement(_reactNativeSvg2.default,{width:'100%',height:'100%',viewBox:'-24 -24 96 96',__source:{fileName:_jsxFileName,lineNumber:23}},_react2.default.createElement(_reactNativeSvg.G,{id:'Page-1',stroke:'none','stroke-width':'1',fill:'none','fill-rule':'evenodd',__source:{fileName:_jsxFileName,lineNumber:24}},_react2.default.createElement(_reactNativeSvg.G,{id:'icon/scale-down',__source:{fileName:_jsxFileName,lineNumber:25}},_react2.default.createElement(_reactNativeSvg.G,{id:'Page-1',__source:{fileName:_jsxFileName,lineNumber:26}},_react2.default.createElement(_reactNativeSvg.Path,{d:'M9.07435506,27.9999997 L13.2625174,32.1881638 L7.99999964,37.4142636 L10.5857357,39.9999996 L15.8118372,34.7374802 L19.9999996,38.9256443 L19.9999996,27.9999997 L9.07435506,27.9999997 Z M38.9256443,19.9999979 L34.7374802,15.8118354 L39.9999996,10.5857355 L37.4142636,7.99999964 L32.1881638,13.2625156 L27.9999996,9.07435324 L27.9999996,19.9999979 L38.9256443,19.9999979 Z',id:'Fill-2',fill:'#FFFFFF',__source:{fileName:_jsxFileName,lineNumber:27}}))))):_react2.default.createElement(_reactNativeSvg2.default,{width:'100%',height:'100%',viewBox:'-24 -24 96 96',__source:{fileName:_jsxFileName,lineNumber:32}},_react2.default.createElement(_reactNativeSvg.G,{id:'Page-1',stroke:'none','stroke-width':'1',fill:'none','fill-rule':'evenodd',__source:{fileName:_jsxFileName,lineNumber:33}},_react2.default.createElement(_reactNativeSvg.G,{id:'icon/scale',__source:{fileName:_jsxFileName,lineNumber:34}},_react2.default.createElement(_reactNativeSvg.G,{id:'Page-1',__source:{fileName:_jsxFileName,lineNumber:35}},_react2.default.createElement(_reactNativeSvg.Path,{d:'M29.1354678,7.99999964 L33.3002036,12.1647372 L28.0671218,17.3616047 L30.6383946,19.9328773 L35.8352637,14.6997939 L39.9999996,18.8645314 L39.9999996,7.99999964 L29.1354678,7.99999964 Z M18.8645314,39.9999977 L14.6997939,35.8352617 L19.9328773,30.6383942 L17.3616047,28.0671217 L12.1647372,33.3002016 L7.99999964,29.1354658 L7.99999964,39.9999977 L18.8645314,39.9999977 Z',id:'Fill-2',fill:'#FFFFFF',__source:{fileName:_jsxFileName,lineNumber:36}})))))));return view;}},{key:'_toggleControls',value:function _toggleControls(){this.uzPlayer.toggleFullscreen();}}]);return OnOffFullscreenIcon;}(_react2.default.Component);exports.default=OnOffFullscreenIcon;var styles=_reactNative.StyleSheet.create({view:{alignSelf:'flex-end',width:48,height:48}});
Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _jsxFileName='src/skins/uiza/PlayPauseIcon.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactNativeSvg=require('react-native-svg');var _reactNativeSvg2=_interopRequireDefault(_reactNativeSvg);var _Utils=require('../../utils/Utils');var _Utils2=_interopRequireDefault(_Utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PlayPauseIcon=function(_React$Component){_inherits(PlayPauseIcon,_React$Component);function PlayPauseIcon(props){_classCallCheck(this,PlayPauseIcon);var _this=_possibleConstructorReturn(this,(PlayPauseIcon.__proto__||Object.getPrototypeOf(PlayPauseIcon)).call(this,props));_this.state=props.skinState;_this.uzPlayer=props.player;return _this;}_createClass(PlayPauseIcon,[{key:'render',value:function render(){var view=_react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:this._toggleControls.bind(this),__source:{fileName:_jsxFileName,lineNumber:16}},_react2.default.createElement(_reactNative.View,_extends({},this.props,{style:styles.view,__source:{fileName:_jsxFileName,lineNumber:17}}),this.uzPlayer.didJustFinish?_react2.default.createElement(_reactNativeSvg2.default,{width:'48',height:'100%',viewBox:'-24 -24 96 96',__source:{fileName:_jsxFileName,lineNumber:22}},_react2.default.createElement(_reactNativeSvg.G,{id:'Page-1',stroke:'none','stroke-width':'1',fill:'none','fill-rule':'evenodd',__source:{fileName:_jsxFileName,lineNumber:23}},_react2.default.createElement(_reactNativeSvg.G,{id:'icon/replay',__source:{fileName:_jsxFileName,lineNumber:24}},_react2.default.createElement(_reactNativeSvg.G,{id:'Page-1',__source:{fileName:_jsxFileName,lineNumber:25}},_react2.default.createElement(_reactNativeSvg.Path,{d:'M42.2487373,31.1237373 L29.1237373,31.1237373 L34.0295479,36.0295479 C31.5504952,38.5084639 28.2545479,39.8737373 24.7487373,39.8737373 C21.2429268,39.8737373 17.9469795,38.5084639 15.4679268,36.0295479 C12.9890108,33.5504952 11.6237373,30.2545479 11.6237373,26.7487373 C11.6237373,23.2429268 12.9890108,19.9469795 15.4679268,17.4679268 C17.9469795,14.9890108 21.2429268,13.6237373 24.7487373,13.6237373 C28.2545479,13.6237373 31.5504952,14.9890108 34.0294795,17.4679952 C34.2364717,17.674919 34.4348506,17.8881319 34.6261202,18.1060616 L37.9183077,15.2253291 C34.7106807,11.5624287 30.0001045,9.24873734 24.7487373,9.24873734 C15.0837471,9.24873734 7.24873734,17.0837471 7.24873734,26.7487373 C7.24873734,36.4137276 15.0837471,44.2487373 24.7487373,44.2487373 C29.5812666,44.2487373 33.9556514,42.2893526 37.1223311,39.1223311 L42.2487373,44.2487373 L42.2487373,31.1237373 Z',id:'Fill-2',fill:'#FFFFFF','fill-rule':'nonzero',transform:'translate(24.748737, 26.748737) rotate(-135.000000) translate(-24.748737, -26.748737) ',__source:{fileName:_jsxFileName,lineNumber:26}}))))):this.state.playbackStatus&&this.state.playbackStatus.isPlaying?_react2.default.createElement(_reactNativeSvg2.default,{width:'48',height:'100%',viewBox:'-24 -24 96 96',__source:{fileName:_jsxFileName,lineNumber:32}},_react2.default.createElement(_reactNativeSvg.G,{id:'Page-1',stroke:'none','stroke-width':'1',fill:'none','fill-rule':'evenodd',__source:{fileName:_jsxFileName,lineNumber:33}},_react2.default.createElement(_reactNativeSvg.G,{id:'icon/play',__source:{fileName:_jsxFileName,lineNumber:34}},_react2.default.createElement(_reactNativeSvg.G,{id:'Page-1',__source:{fileName:_jsxFileName,lineNumber:35}},_react2.default.createElement(_reactNativeSvg.Path,{d:'M10,39.9999989 L20,39.9999989 L20,8 L10,8 L10,39.9999989 Z M28,8 L28,39.9999989 L38,39.9999989 L38,8 L28,8 Z',id:'Fill-2',fill:'#FFFFFF',__source:{fileName:_jsxFileName,lineNumber:36}}))))):_react2.default.createElement(_reactNativeSvg2.default,{width:'100%',height:'100%',viewBox:'-36 -24 96 96',__source:{fileName:_jsxFileName,lineNumber:41}},_react2.default.createElement(_reactNativeSvg.G,{id:'Page-1',stroke:'none','stroke-width':'1',fill:'none','fill-rule':'evenodd',__source:{fileName:_jsxFileName,lineNumber:42}},_react2.default.createElement(_reactNativeSvg.G,{id:'paused',transform:'translate(-1.000000, 0.000000)',fill:'#FFFFFF','fill-rule':'nonzero',__source:{fileName:_jsxFileName,lineNumber:43}},_react2.default.createElement(_reactNativeSvg.Polygon,{id:'Fill-2',points:'1 47.1111121 33.7407415 24.0000005 1 0.888888893',__source:{fileName:_jsxFileName,lineNumber:44}}))))));return view;}},{key:'_toggleControls',value:function _toggleControls(){if(this.uzPlayer.didJustFinish){this.uzPlayer.play(0);}else{this.uzPlayer.togglePlayPause();}}}]);return PlayPauseIcon;}(_react2.default.Component);exports.default=PlayPauseIcon;var styles=_reactNative.StyleSheet.create({view:{alignSelf:'flex-end',width:48,height:48}});
Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _jsxFileName='src/skins/uiza/TimeDisplay.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _Utils=require('../../utils/Utils');var _Utils2=_interopRequireDefault(_Utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TimeDisplay=function(_React$Component){_inherits(TimeDisplay,_React$Component);function TimeDisplay(props){_classCallCheck(this,TimeDisplay);var _this=_possibleConstructorReturn(this,(TimeDisplay.__proto__||Object.getPrototypeOf(TimeDisplay)).call(this,props));_this.state=props.skinState;_this.uzPlayer=props.player;return _this;}_createClass(TimeDisplay,[{key:'_toggleControls',value:function _toggleControls(){if(this.state.playbackStatus.durationMillis){var pos=parseInt(this.state.playbackStatus.durationMillis/1000,10);this.uzPlayer.seek(pos,true);}}},{key:'render',value:function render(){var view=void 0;if(this.props.stream==='live'){view=_react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:this._toggleControls.bind(this),__source:{fileName:_jsxFileName,lineNumber:24}},_react2.default.createElement(_reactNative.View,_extends({},this.props,{style:styles.view,__source:{fileName:_jsxFileName,lineNumber:25}}),_react2.default.createElement(_reactNative.Text,{style:styles.text,__source:{fileName:_jsxFileName,lineNumber:28}},'Live')));}else{var positionStr=_Utils2.default.secondToHHMMSS(parseInt(this.state.playbackStatus.positionMillis/1000,10));var durationStr=_Utils2.default.secondToHHMMSS(parseInt(this.state.playbackStatus.durationMillis/1000,10));view=_react2.default.createElement(_reactNative.View,_extends({},this.props,{style:styles.view,__source:{fileName:_jsxFileName,lineNumber:36}}),_react2.default.createElement(_reactNative.Text,{style:styles.text,__source:{fileName:_jsxFileName,lineNumber:39}},positionStr+' / '+durationStr));}return view;}}]);return TimeDisplay;}(_react2.default.Component);exports.default=TimeDisplay;var styles=_reactNative.StyleSheet.create({view:{alignSelf:'flex-end',flexDirection:'row',height:48,paddingLeft:10,paddingRight:10},text:{textAlignVertical:'center',color:'white',fontSize:16}});
Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _jsxFileName='src/skins/uiza/TimeSlider.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TimeSlider=function(_React$Component){_inherits(TimeSlider,_React$Component);function TimeSlider(props){_classCallCheck(this,TimeSlider);var _this=_possibleConstructorReturn(this,(TimeSlider.__proto__||Object.getPrototypeOf(TimeSlider)).call(this,props));_this.state=props.skinState;_this.state.dragging=false;_this.uzPlayer=props.player;return _this;}_createClass(TimeSlider,[{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_reactNative.Slider,{value:this.state.playbackStatus.durationMillis?this.state.playbackStatus.positionMillis*100/this.state.playbackStatus.durationMillis:0,step:1,minimumValue:0,maximumValue:100,minimumTrackTintColor:'#FFFFFF',thumbTintColor:'#FFFFFF',style:styles.container,onSlidingComplete:function onSlidingComplete(value){var positionMilis=value*_this2.state.playbackStatus.durationMillis/100;var pos=parseInt(positionMilis/1000,10);_this2.uzPlayer.seek(pos);_this2.setState({dragging:false,sliderValue:value});},onValueChange:function onValueChange(value){_this2.setState({dragging:true,sliderValue:value});},__source:{fileName:_jsxFileName,lineNumber:15}});}}]);return TimeSlider;}(_react2.default.Component);exports.default=TimeSlider;var styles=_reactNative.StyleSheet.create({container:{zIndex:1,width:'100%'}});
Object.defineProperty(exports,"__esModule",{value:true});exports.default={btoa:function btoa(){var input=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var str=input;var output='';for(var block=0,charCode,i=0,map=chars;str.charAt(i|0)||(map='=',i%1);output+=map.charAt(63&block>>8-i%1*8)){charCode=str.charCodeAt(i+=3/4);if(charCode>0xFF){throw new Error('"btoa" failed: The string to be encoded contains characters outside of the Latin1 range.');}block=block<<8|charCode;}return output;},atob:function atob(){var input=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var str=input.replace(/=+$/,'');var output='';if(str.length%4===1){throw new Error('"atob" failed: The string to be decoded is not correctly encoded.');}for(var bc=0,bs=0,buffer,i=0;buffer=str.charAt(i++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++%4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;}};var chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _class,_temp;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var _debug=false;var Logger=exports.Logger=(_temp=_class=function(){function Logger(){_classCallCheck(this,Logger);}_createClass(Logger,[{key:'enableDebug',set:function set(debug){_debug=!!debug;},get:function get(){return _debug;}}],[{key:'debug',value:function debug(){if(Logger.enableDebug){console.log.apply(null,arguments);}}},{key:'log',value:function log(){console.log.apply(null,arguments);}},{key:'info',value:function info(){console.info.apply(null,arguments);}},{key:'warn',value:function warn(){console.warn.apply(null,arguments);}},{key:'error',value:function error(){console.error.apply(null,arguments);}}]);return Logger;}(),_class.ERROR=0,_class.WARN=1,_class.INFO=2,_class.LOG=3,_temp);exports.default={urlToHttps:function urlToHttps(url){var result=url.replace('https://','//').replace('http://','//').replace(':80/','/').replace(':443/','/').replace('//','https://');if(result.substr(0,8)!=='https://'){result='https://'+result;}return result;},getOwnPropertyNames:function getOwnPropertyNames(obj){var log=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;try{return Object.getOwnPropertyNames(obj).filter(function(pro){var result=true;if(result&&log){Logger.log(obj.constructor.name+' have '+typeof obj[pro]+': ',pro);}return result;}).toString();}catch(e){return'';}},queryParams:function queryParams(params){return Object.keys(params).map(function(k){return encodeURIComponent(k)+'='+encodeURIComponent(params[k]);}).join('&');},secondToHHMMSS:function secondToHHMMSS(seconds){if(isNaN(seconds)){return'00:00';}var date=new Date(null);date.setSeconds(seconds);var result=date.toISOString().substr(11,8);var tmp=result.split(':');if(tmp[0]==='00'){result=tmp[1]+':'+tmp[2];}return result;}};
